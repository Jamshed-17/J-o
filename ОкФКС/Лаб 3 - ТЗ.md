**Техническое задание на разработку телеграмм-бота "Расписание УрТК"**

### 1. Введение

Телеграмм-бот "Расписание УрТК" предназначен для предоставления пользователям расписания занятий учебного заведения УрТК.

### 2. Функциональные требования

1. Бот должен реагировать на команду `/start` и предлагать пользователю выбрать курс.
2. После выбора курса пользователь должен получить возможность выбрать свою группу.
3. После выбора группы бот должен предложить выбрать день недели или запросить расписание на всю неделю.
4. При выборе конкретного дня бот должен отображать расписание в формате:
    
    ```
    [Дата] - [День недели] ([Группа])
    1) [Название предмета] - [Кабинет]
    ```
    
5. При запросе всей недели бот должен вывести расписание в аналогичном формате для каждого дня.
6. Бот должен поддерживать возможность смены группы через кнопку "Сменить группу".
7. В случае перегрузки запросами бот должен уведомлять пользователя о слишком частых запросах.
8. Бот должен корректно обрабатывать рестарт программы и возвращать пользователя к выбору курса.

### 3. Нефункциональные требования

1. Время отклика на запрос пользователя не должно превышать 3 секунд.
2. Бот должен быть доступен 24/7.
3. Интерфейс должен быть удобным и интуитивно понятным.

---

**Спецификация на разработку телеграмм-бота "Расписание УрТК"**

### 1. Архитектура

- Бот разработан на Python с использованием библиотеки `aiogram`.
- Данные о расписании хранятся в базе данных PostgreSQL.
- Бот развернут на облачном сервере.

### 2. Взаимодействие с пользователем

4. Пользователь отправляет команду `/start`.
5. Бот отображает клавиатуру с выбором курса.
6. После выбора курса отображается клавиатура с группами.
7. После выбора группы бот предлагает выбрать день недели или всю неделю.
8. При выборе конкретного дня бот отправляет расписание в текстовом формате.
9. При выборе "Вся неделя" бот отправляет расписание на каждый день недели.
10. При выборе "Сменить группу" бот возвращает пользователя к выбору курса.
11. При множественных запросах бот уведомляет о частоте запросов.

### 3. API и базы данных

- Данные о расписании получаются из базы данных.
- Структура базы данных включает таблицы: `курсы`, `группы`, `расписание`.
- Бот обрабатывает команды пользователей через API Telegram.

---

**Сравнение результатов тестирования с техническим заданием**

|Функционал|Ожидаемый результат (из ТЗ)|Фактический результат|Соответствие|
|---|---|---|---|
|/start|Выбор курса|Выбор курса|✅|
|Выбор курса|Выбор группы|Выбор группы|✅|
|Выбор группы|Выбор дня недели|Выбор дня недели|✅|
|Выбор дня|Отображение расписания|Отображение расписания|✅|
|Вся неделя|Отображение расписания на неделю|Отображение расписания на неделю|✅|
|Смена группы|Переход в начало|Переход в начало|✅|
|Рестарт|Возврат в начало|Возврат в начало|✅|
|Множественные запросы|Ошибка при частых запросах|Бот сначала вывел предупреждение, затем обработал запросы|❌|

Вывод: все функции соответствуют требованиям, кроме обработки множественных запросов. Требуется доработка логики ограничения запросов.

---

**Сравнение результатов тестирования с требованиями спецификации**

|Функционал|Ожидаемый результат (из спецификации)|Фактический результат|Соответствие|
|---|---|---|---|
|/start|Выбор курса|Выбор курса|✅|
|Выбор курса|Выбор группы|Выбор группы|✅|
|Выбор группы|Выбор дня недели|Выбор дня недели|✅|
|Выбор дня|Отображение расписания|Отображение расписания|✅|
|Вся неделя|Отображение расписания на неделю|Отображение расписания на неделю|✅|
|Смена группы|Переход в начало|Переход в начало|✅|
|Рестарт|Возврат в начало|Возврат в начало|✅|
|Множественные запросы|Ошибка при частых запросах|Бот сначала вывел предупреждение, затем обработал запросы|❌|

Вывод: бот в целом соответствует спецификации, но требуется улучшение механизма защиты от частых запросов.