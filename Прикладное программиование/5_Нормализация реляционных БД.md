
**1. В чем заключаются аномалии модификации?**

Аномалии модификации — это проблемы, возникающие при операциях добавления, изменения и удаления данных в ненормализованной таблице. Они делятся на три типа:

- **Аномалия вставки:** Невозможность добавить данные без наличия других, связанных данных. Например, нельзя добавить нового сотрудника, пока он не назначен на проект.
    
- **Аномалия обновления:** Необходимость вносить одинаковые изменения в несколько строк таблицы. При изменении какого-либо атрибута (например, названия отдела) нужно обновить все строки, где он встречается, иначе данные станут противоречивыми.
    
- **Аномалия удаления:** Непреднамеренная потеря данных. При удалении одной сущности (например, последнего сотрудника проекта) могут быть потеряны данные о другой сущности (например, о самом проекте).
    

**2. Как определяется функциональная зависимость?**

Функциональная зависимость (ФЗ) — это связь между атрибутами отношения. Говорят, что атрибут B **функционально зависит** от атрибута A (запись: A → B), если в любой момент времени каждому значению A соответствует **ровно одно** значение B. Другими словами, атрибут A **однозначно определяет** атрибут B.

**3. Какие условия должны выполняться, чтобы реляционное отношение находилось в первой нормальной форме (1НФ)?**

Отношение находится в 1НФ **тогда и только тогда, когда**:

1. Все его атрибуты являются **атомарными** (не составными и не содержащими повторяющихся групп значений).
    
2. В отношении **нет одинаковых кортежей**.
    
3. Порядок следования атрибутов и кортежей **не имеет значения**.
    

**4. Как формулируется теорема Хеза?**

Теорема Хеза (Heath) устанавливает условие допустимой декомпозиции отношения без потерь. Она формулируется следующим образом:

Если в отношении R(A, B, C) существует функциональная зависимость A → B, то это отношение может быть **без потерь** декомпозировано на свои проекции R₁(A, B) и R₂(A, C).

**5. Какой класс функциональных зависимостей исключается путем приведения реляционного отношения в соответствие требованиям третьей нормальной формы (3НФ)?**

При приведении к 3НФ исключаются **транзитивные зависимости** неключевых атрибутов от первичного ключа.

Формальное определение: отношение находится в 3НФ, если оно находится во 2НФ и **никакой неключевой атрибут не находится в транзитивной функциональной зависимости от потенциального ключа**.

**6. В чем заключаются требования НФБК?**

Нормальная форма Бойса-Кодда (НФБК) является более строгой, чем 3НФ. Отношение находится в НФБК **тогда и только тогда, когда каждая нетривиальная и неприводимая функциональная зависимость в нем имеет в качестве детерминанта (левой части) потенциальный ключ**.

Проще говоря, **все детерминанты (определители) должны быть потенциальными ключами**.

**7. Могут ли быть аномалии модификаций у реляционного отношения, находящегося в ДКНФ?**

**Нет, не могут.** Отношение, находящееся в доменно-ключевой нормальной форме (ДКНФ), **свободно от всех аномалий модификации** (вставки, обновления, удаления). ДКНФ считается "идеальной" нормальной формой, гарантирующей полную нормализацию и отсутствие каких-либо избыточностей, приводящих к аномалиям.

8. **Требуется, основываясь на описании предметной области, спроектировать БД, все отношения в которой нормализованы до НФБК. Предметная область — учет накопителей на жестких дисках (HDD), используемых в организации.**

CREATE TABLE Manufacturer (
    ManufacturerName VARCHAR(100) PRIMARY KEY,
    Website VARCHAR(255) NOT NULL
);

CREATE TABLE Model (
    ModelName VARCHAR(150) PRIMARY KEY,
    ManufacturerName VARCHAR(100) NOT NULL,
    CapacityGB INTEGER NOT NULL,
    SpindleSpeedRPM INTEGER,
    InterfaceType VARCHAR(50) NOT NULL,
    FOREIGN KEY (ManufacturerName) REFERENCES Manufacturer(ManufacturerName)
);

CREATE TABLE Drive (
    SerialNumber VARCHAR(50) PRIMARY KEY,
    ModelName VARCHAR(150) NOT NULL,
    PurchaseDate DATE NOT NULL,
    FailureDate DATE NULL,
    Comments TEXT NULL,
    FOREIGN KEY (ModelName) REFERENCES Model(ModelName)
);