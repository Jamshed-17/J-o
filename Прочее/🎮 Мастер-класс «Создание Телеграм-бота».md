## üìã –í–≤–µ–¥–µ–Ω–∏–µ

### –¶–µ–ª–∏ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–∞
–ü–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –æ—Å–Ω–æ–≤–∞–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —Å–æ–∑–¥–∞–Ω–∏–µ–º –¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–∞ –∏ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏–≥—Ä. –í –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã —É–∑–Ω–∞–µ—Ç–µ, –∫–∞–∫:

- üìù –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç–∞ –≤ Telegram, –ø–æ–ª—É—á–∞—Ç—å —Ç–æ–∫–µ–Ω
- üìö –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¢–µ–ª–µ–≥—Ä–∞–º (`pyTelegramBotAPI`)
- ‚å®Ô∏è –°–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥
- üé≤ –ü—Ä–æ–¥—É–º—ã–≤–∞—Ç—å –∏–≥—Ä–æ–≤—É—é –ª–æ–≥–∏–∫—É (–Ω–∞ –ø—Ä–∏–º–µ—Ä–µ ¬´–ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏¬ª –∏ ¬´–ö–∞–º–µ–Ω—å-–Ω–æ–∂–Ω–∏—Ü—ã-–±—É–º–∞–≥–∞¬ª)

### –ß—Ç–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è
- **Python** (–≤–µ—Ä—Å–∏—è 3.x)
- **PyCharm** (–∏–ª–∏ –¥—Ä—É–≥–æ–µ IDE)
- **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç** –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –±–æ—Ç–∞ —É BotFather
- **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏** pyTelegramBotAPI:
  ```bash
  pip install pyTelegramBotAPI
  ```

---

## ‚öôÔ∏è –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### üîê –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –±–æ—Ç–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ **BotFather**
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot` –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞
3. –ü–æ–ª—É—á–∏—Ç–µ **—Ç–æ–∫–µ–Ω**, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ –∫–æ–¥–µ

### üõ† –ù–∞—Å—Ç—Ä–æ–π–∫–∞ IDE (–Ω–∞–ø—Ä–∏–º–µ—Ä, PyCharm)
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –≤ PyCharm
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, `bot.py`)
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `pyTelegramBotAPI`

---

## üèó –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∂–¥–æ–π —á–∞—Å—Ç–∏

### üì¶ –ò–º–ø–æ—Ä—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫
```python
import telebot
import random
from telebot.types import ReplyKeyboardMarkup, KeyboardButton
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
- `telebot` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram API
- `random` ‚Äî –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å–ª—É—á–∞–π–Ω—ã—Ö —Ö–æ–¥–æ–≤
- `ReplyKeyboardMarkup`, `KeyboardButton` ‚Äî –∫–ª–∞—Å—Å—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∫–ª–∞–≤–∏–∞—Ç—É—Ä

### ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
```python
TOKEN = '–í–∞—à –¢–æ–∫–µ–Ω'
bot = telebot.TeleBot(TOKEN)
games = {}
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
- `TOKEN` ‚Äî —Å—Ç—Ä–æ–∫–∞ —Å —Ç–æ–∫–µ–Ω–æ–º, –ø–æ–ª—É—á–µ–Ω–Ω—ã–º –æ—Ç BotFather
- `bot` ‚Äî —ç–∫–∑–µ–º–ø–ª—è—Ä –±–æ—Ç–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- `games` ‚Äî —Å–ª–æ–≤–∞—Ä—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã ¬´–ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏¬ª

---

## üéØ –ò–≥—Ä–∞ ¬´–ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏¬ª

### üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
```python
def check_winner(board):
    win_combinations = [
        [0, 1, 2], [3, 4, 5], [6, 7, 8],
        [0, 3, 6], [1, 4, 7], [2, 5, 8],
        [0, 4, 8], [2, 4, 6]
    ]
    for combo in win_combinations:
        if board[combo[0]] == board[combo[1]] == board[combo[2]] and board[combo[0]] != '-':
            return board[combo[0]]
    return None
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ –Ω–∞ –¥–æ—Å–∫–µ –≤—ã–∏–≥—Ä—ã—à–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è

### üé® –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ—Å–∫–∏ –¥–ª—è –≤—ã–≤–æ–¥–∞
```python
def format_board(board):
    return f"\n{board[0]} | {board[1]} | {board[2]}\n{board[3]} | {board[4]} | {board[5]}\n{board[6]} | {board[7]} | {board[8]}\n"
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Å–ø–∏—Å–æ–∫ –≤ –∫—Ä–∞—Å–∏–≤–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ

### ‚å®Ô∏è –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ö–æ–¥–∞
```python
def get_ttt_keyboard(board):
    keyboard = ReplyKeyboardMarkup(resize_keyboard=True)
    buttons = [KeyboardButton(board[i]) for i in range(9)]
    keyboard.add(*buttons)
    return keyboard
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—ë—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å 9 –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ö–æ–¥–∞

---

## üì± –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –º–µ–Ω—é

### üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
```python
def get_main_keyboard():
    keyboard = ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.add(KeyboardButton("–ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏"), KeyboardButton("–ö–∞–º–µ–Ω—å-–Ω–æ–∂–Ω–∏—Ü—ã-–±—É–º–∞–≥–∞"))
    return keyboard
```

### üîÑ –ú–µ–Ω—é –¥–ª—è –ø–æ–≤—Ç–æ—Ä–∞ –∏–≥—Ä—ã
```python
def get_replay_keyboard():
    keyboard = ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.add(KeyboardButton("–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞"), KeyboardButton("–í—ã–π—Ç–∏ –≤ –º–µ–Ω—é"))
    return keyboard
```

---

## üéÆ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ –∏–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å

### üëã –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
```python
@bot.message_handler(commands=['start', 'help'])
def send_welcome(message):
    bot.send_message(message.chat.id, "–ü—Ä–∏–≤–µ—Ç! –í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä—É:", reply_markup=get_main_keyboard())
```

### üéØ –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã ¬´–ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏¬ª
```python
@bot.message_handler(func=lambda message: message.text == "–ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏")
def tic_tac_toe_bot_start(message):
    user_id = message.chat.id
    games[user_id] = {'board': [str(i + 1) for i in range(9)], 'turn': 'X'}
    bot.send_message(user_id, "–ò–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å! –í—ã –∏–≥—Ä–∞–µ—Ç–µ –ø—Ä–æ—Ç–∏–≤ –±–æ—Ç–∞ (X).",
                     reply_markup=get_ttt_keyboard(games[user_id]['board']))
    bot.send_message(user_id, format_board(games[user_id]['board']))
```

### üé≤ –õ–æ–≥–∏–∫–∞ —Ö–æ–¥–æ–≤ –≤ ¬´–ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏¬ª
```python
@bot.message_handler(func=lambda message: message.chat.id in games and message.text in games[message.chat.id]['board'])
def tic_tac_toe_play(message):
    user_id = message.chat.id
    index = games[user_id]['board'].index(message.text)
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ö–æ–¥–∞
    if games[user_id]['board'][index] in ['X', 'O']:
        bot.send_message(user_id, "–í —ç—Ç–æ–º –º–µ—Å—Ç–µ —É–∂–µ –µ—Å—Ç—å —Å–∏–º–≤–æ–ª\n" + format_board(games[user_id]['board']),
                         reply_markup=get_ttt_keyboard(games[user_id]['board']))
        return
    
    # –•–æ–¥ –∏–≥—Ä–æ–∫–∞
    games[user_id]['board'][index] = 'X'
    winner = check_winner(games[user_id]['board'])
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–±–µ–¥—ã –∏–≥—Ä–æ–∫–∞
    if winner:
        bot.send_message(user_id, format_board(games[user_id]['board']) + f"\n–ü–æ–±–µ–¥–∏–ª {winner}!",
                         reply_markup=get_replay_keyboard())
        del games[user_id]
        return
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∏—á—å—é
    if all(cell in ['X', 'O'] for cell in games[user_id]['board']):
        bot.send_message(user_id, format_board(games[user_id]['board']) + "\n–ù–∏—á—å—è!",
                         reply_markup=get_replay_keyboard())
        del games[user_id]
        return
    
    # –•–æ–¥ –±–æ—Ç–∞
    bot_index = bot_move(user_id)
    if bot_index is not None:
        games[user_id]['board'][bot_index] = 'O'
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–±–µ–¥—ã –±–æ—Ç–∞
    winner = check_winner(games[user_id]['board'])
    if winner:
        bot.send_message(user_id, format_board(games[user_id]['board']) + f"\n–ü–æ–±–µ–¥–∏–ª {winner}!",
                         reply_markup=get_replay_keyboard())
        del games[user_id]
        return
    
    bot.send_message(user_id, format_board(games[user_id]['board']) + "\n–í–∞—à —Ö–æ–¥",
                     reply_markup=get_ttt_keyboard(games[user_id]['board']))
```

### ü§ñ –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ö–æ–¥–∞ –±–æ—Ç–∞
```python
def bot_move(user_id):
    available_moves = [i for i in range(9) if games[user_id]['board'][i] not in ['X', 'O']]
    if available_moves:
        return random.choice(available_moves)
    return None
```

---

## ‚úÇÔ∏è –ò–≥—Ä–∞ ¬´–ö–∞–º–µ–Ω—å-–Ω–æ–∂–Ω–∏—Ü—ã-–±—É–º–∞–≥–∞¬ª

### üöÄ –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã
```python
@bot.message_handler(func=lambda message: message.text == "–ö–∞–º–µ–Ω—å-–Ω–æ–∂–Ω–∏—Ü—ã-–±—É–º–∞–≥–∞")
def rps_start(message):
    keyboard = ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.add(KeyboardButton("–ö–∞–º–µ–Ω—å"), KeyboardButton("–ù–æ–∂–Ω–∏—Ü—ã"), KeyboardButton("–ë—É–º–∞–≥–∞"))
    keyboard.row(KeyboardButton("–í—ã–π—Ç–∏ –≤ –º–µ–Ω—é"))
    bot.send_message(message.chat.id, "–í—ã–±–µ—Ä–∏—Ç–µ: –∫–∞–º–µ–Ω—å, –Ω–æ–∂–Ω–∏—Ü—ã –∏–ª–∏ –±—É–º–∞–≥–∞.", reply_markup=keyboard)
```

### üéØ –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
```python
@bot.message_handler(func=lambda message: message.text in ['–ö–∞–º–µ–Ω—å', '–ù–æ–∂–Ω–∏—Ü—ã', '–ë—É–º–∞–≥–∞'])
def rps_play(message):
    choices = ['–ö–∞–º–µ–Ω—å', '–ù–æ–∂–Ω–∏—Ü—ã', '–ë—É–º–∞–≥–∞']
    user_choice = message.text
    bot_choice = random.choice(choices)

    if user_choice == bot_choice:
        result = "–ù–∏—á—å—è!"
    elif (user_choice == '–ö–∞–º–µ–Ω—å' and bot_choice == '–ù–æ–∂–Ω–∏—Ü—ã') or \
         (user_choice == '–ù–æ–∂–Ω–∏—Ü—ã' and bot_choice == '–ë—É–º–∞–≥–∞') or \
         (user_choice == '–ë—É–º–∞–≥–∞' and bot_choice == '–ö–∞–º–µ–Ω—å'):
        result = "–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏!"
    else:
        result = "–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏!"

    bot.send_message(message.chat.id, f"–í—ã –≤—ã–±—Ä–∞–ª–∏: {user_choice}\n–ë–æ—Ç –≤—ã–±—Ä–∞–ª: {bot_choice}\n{result}",
                     reply_markup=rps_start(message))
```

---

## üîÑ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–µ–Ω—é

### üîÅ –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ –∏–≥—Ä—ã
```python
@bot.message_handler(func=lambda message: message.text == "–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞")
def restart_ttt(message):
    tic_tac_toe_bot_start(message)
```

### üè† –í—ã—Ö–æ–¥ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
```python
@bot.message_handler(func=lambda message: message.text == "–í—ã–π—Ç–∏ –≤ –º–µ–Ω—é")
def exit_to_menu(message):
    bot.send_message(message.chat.id, "–í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä—É:", reply_markup=get_main_keyboard())
```

---

## üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
```python
if __name__ == "__main__":
    print("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω")
    bot.polling(none_stop=True)
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞ –≤ —Ä–µ–∂–∏–º–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π

---

*–ö–æ–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º–∏ 09.02.11 ‚Äì —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–º –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ–º*
