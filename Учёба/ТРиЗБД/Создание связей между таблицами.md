#БазыДанных #Конспект #ТРиЗБД #SQL 
Связи между таблицами происходят с помощью ключей. К примеру, в таблице пользователей есть первичный ключ - поле id. Если мы захотим сделать таблицу со статьями и хранить в ней авторов этих статей, то мы можем добавить новый столбец author_id и хранить в нём id пользователей из таблицы users.

Это был лишь один из примеров. Всего же типов подобных связей может быть 3:

- один-к-одному;
- один-ко-многим;
- многие-ко-многим.

При создании таблиц в базе данных создается и связь между ними.

_Синтаксис:_

CREATE TABLE имя_таблицы (имя_поля 1 тип данных атрибуты, Имя_поля N тип данных атрибуты, CONSTRAINT имя_связи foreign key (имя_поля_внешнего_ключа) references имя_главной таблицы (имя_первичного_ключа) параметры удаления/обновления); 

Давайте создадим таблицу, в которой будут храниться отделы. 

###   ON DELETE и ON UPDATE

С помощью выражений ON DELETE и ON UPDATE можно установить действия, которые выполняются соответственно при удалении и изменении связанной строки из главной таблицы. В качестве действия могут использоваться следующие опции:

- CASCADE: автоматически удаляет или изменяет строки из зависимой таблицы при удалении или изменении связанных строк в главной таблице.
    
- SET NULL: при удалении или обновлении связанной строки из главной таблицы устанавливает для столбца внешнего ключа значение NULL. (В этом случае столбец внешнего ключа должен поддерживать установку NULL)
    
- RESTRICT: отклоняет удаление или изменение строк в главной таблице при наличии связанных строк в зависимой таблице.
    
- NO ACTION: то же самое, что и `RESTRICT`.
    
- SET DEFAULT: при удалении связанной строки из главной таблицы устанавливает для столбца внешнего ключа значение по умолчанию, которое задается с помощью атрибуты DEFAULT. Несмотря на то, что данная опция в принципе доступна, однако движок InnoDB не поддерживает данное выражение.


### INNER JOIN

**INNER JOIN -** используется для объединения строк из двух и более таблиц, основываясь на отношениях между ними. Для запроса используется следующий синтаксис:  

Чтобы получить всех пользователей вместе с их профилями нам нужно выполнить следующий запрос:    

Каждая строка из левой таблицы, сопоставляется с каждой строкой из правой таблицы, после этого проверяется условие.

Если мы хотим выбрать только некоторые столбцы, то после оператора SELECT нужно перед именем поля явно указать название таблицы, из которой оно берется:

